//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "FMV_Login.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma link "VCL_NNConfig"
#pragma link "VCL_NNFlagBox"
#pragma link "VCL_NNFmRes"
#pragma link "VCL_NNRightsManager"
#pragma link "VCL_frmLogin"
#pragma resource "*.dfm"
TfmvLogin *fmvLogin;
//---------------------------------------------------------------------------
__fastcall TfmvLogin::TfmvLogin( TComponent* Owner )
  : inherited( Owner )
{
}
//---------------------------------------------------------------------------

void __fastcall TfmvLogin::coResLoad(TObject *Sender)
{
  inherited::coResLoad( Sender );
  frmLogin->LoadFromFiler( coRes->Filer );
}
//---------------------------------------------------------------------------

void __fastcall TfmvLogin::coResSave(TObject *Sender)
{
  inherited::coResSave( Sender );
  frmLogin->SaveToFiler( coRes->Filer );
}
//---------------------------------------------------------------------------

void __fastcall TfmvLogin::FormKeyDown(TObject *Sender, WORD &Key, TShiftState Shift)
{
  frmLogin->FormKeyDown( Sender, Key, Shift );
}
//---------------------------------------------------------------------------

void __fastcall TfmvLogin::ShowFormLogin( TFDConnection *AConnection )
{
  frmLogin->Connection = AConnection;

  if ( ShowModal() != mrOk )
    Application->Terminate();

  fmvLogin->coRes->Enabled = AConnection->Connected;
}

